#include <defs.h>
#include <syscalls.h>

static unsigned short font10x16[] =
{
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0000, 0x0000, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00cc, 0x00cc, 0x00cc, 0x00cc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0198, 0x0198, 0x0198, 0x03fe, 0x03fe, 0x00cc, 0x00cc,
  0x01ff, 0x01ff, 0x0066, 0x0066, 0x0066, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0030, 0x00fc, 0x01fe, 0x01b6, 0x0036, 0x007c,
  0x00f8, 0x01b0, 0x01b6, 0x01fe, 0x00fc, 0x0030, 0x0000, 0x0000,
  0x0000, 0x001e, 0x0033, 0x0033, 0x0333, 0x03de, 0x00f0, 0x003c,
  0x01ef, 0x0333, 0x0330, 0x0330, 0x01e0, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0078, 0x00fc, 0x00cc, 0x000c, 0x0018, 0x003c, 0x037c,
  0x0366, 0x03c6, 0x01ce, 0x01fc, 0x03f8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0030, 0x0030, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x00c0, 0x0060, 0x0060, 0x0060, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0060, 0x0060, 0x0060, 0x00c0, 0x0000,
  0x000c, 0x0018, 0x0018, 0x0018, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0018, 0x0018, 0x0018, 0x000c, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0030, 0x01b6, 0x01b6, 0x00fc,
  0x00fc, 0x01b6, 0x01b6, 0x0030, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0030, 0x0030, 0x0030, 0x01fe,
  0x01fe, 0x0030, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0030, 0x0030, 0x0030, 0x0030, 0x0018, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x01fe,
  0x01fe, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0030, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0180, 0x00c0, 0x00c0, 0x0060, 0x0060, 0x0030, 0x0030,
  0x0030, 0x0018, 0x0018, 0x000c, 0x000c, 0x0006, 0x0000, 0x0000,
  0x0000, 0x0078, 0x00fc, 0x01ce, 0x0186, 0x0186, 0x01b6, 0x01b6,
  0x0186, 0x0186, 0x01ce, 0x00fc, 0x0078, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0030, 0x0038, 0x003c, 0x003e, 0x0036, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x0000, 0x007c, 0x00fe, 0x01c6, 0x0180, 0x0180, 0x00c0, 0x0060,
  0x0030, 0x0018, 0x000c, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x0000, 0x007c, 0x00fe, 0x01c6, 0x0180, 0x01c0, 0x00f8, 0x00f8,
  0x01c0, 0x0180, 0x01c6, 0x00fe, 0x007c, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00c0, 0x00e0, 0x00f0, 0x00d8, 0x00cc, 0x00c6, 0x01fe,
  0x01fe, 0x00c0, 0x00c0, 0x00c0, 0x00c0, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00fe, 0x00fe, 0x0006, 0x0006, 0x007e, 0x00fe, 0x01c6,
  0x0180, 0x0180, 0x01c6, 0x00fe, 0x007c, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00f8, 0x01fc, 0x018c, 0x0006, 0x007e, 0x00fe, 0x01ce,
  0x0186, 0x0186, 0x01ce, 0x00fc, 0x0078, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01fe, 0x01fe, 0x0180, 0x0180, 0x00c0, 0x00c0, 0x0060,
  0x0060, 0x0030, 0x0030, 0x0018, 0x0018, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0078, 0x00fc, 0x01ce, 0x0186, 0x01ce, 0x00fc, 0x00fc,
  0x01ce, 0x0186, 0x01ce, 0x00fc, 0x0078, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0078, 0x00fc, 0x01ce, 0x0186, 0x0186, 0x01ce, 0x01fc,
  0x01f8, 0x0180, 0x00c6, 0x00fe, 0x007c, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0030, 0x0030, 0x0030,
  0x0000, 0x0000, 0x0030, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0030, 0x0030, 0x0030,
  0x0000, 0x0000, 0x0030, 0x0030, 0x0030, 0x0030, 0x0018, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0180, 0x01e0, 0x0078, 0x000e,
  0x000e, 0x0078, 0x01e0, 0x0180, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x01fe, 0x01fe, 0x0000,
  0x0000, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0006, 0x001e, 0x0078, 0x01c0,
  0x01c0, 0x0078, 0x001e, 0x0006, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x007c, 0x00fe, 0x00c6, 0x00c0, 0x0060, 0x0030, 0x0018,
  0x0018, 0x0018, 0x0000, 0x0018, 0x0018, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0078, 0x00fc, 0x01ce, 0x0187, 0x01f3, 0x01fb,
  0x019b, 0x01fb, 0x01f3, 0x0007, 0x018e, 0x01fc, 0x00f8, 0x0000,
  0x0000, 0x0030, 0x0030, 0x0078, 0x0078, 0x0078, 0x00cc, 0x00cc,
  0x00fc, 0x01fe, 0x0186, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00fe, 0x01fe, 0x0186, 0x0186, 0x0186, 0x00fe, 0x00fe,
  0x0186, 0x0186, 0x0186, 0x01fe, 0x00fe, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00f8, 0x01fc, 0x018c, 0x000e, 0x0006, 0x0006, 0x0006,
  0x0006, 0x000e, 0x018c, 0x01fc, 0x00f8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x003e, 0x00fe, 0x00c6, 0x0186, 0x0186, 0x0186, 0x0186,
  0x0186, 0x0186, 0x00c6, 0x00fe, 0x003e, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01fe, 0x01fe, 0x0006, 0x0006, 0x0006, 0x00fe, 0x00fe,
  0x0006, 0x0006, 0x0006, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01fe, 0x01fe, 0x0006, 0x0006, 0x0006, 0x00fe, 0x00fe,
  0x0006, 0x0006, 0x0006, 0x0006, 0x0006, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00f8, 0x01fc, 0x018c, 0x000e, 0x0006, 0x0006, 0x01e6,
  0x01e6, 0x018e, 0x018c, 0x01fc, 0x00f8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x0186, 0x0186, 0x0186, 0x0186, 0x01fe, 0x01fe,
  0x0186, 0x0186, 0x0186, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00fc, 0x00fc, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x00fc, 0x00fc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01f0, 0x01f0, 0x0180, 0x0180, 0x0180, 0x0180, 0x0180,
  0x0180, 0x0180, 0x0186, 0x01fe, 0x00fc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x01c6, 0x00e6, 0x0076, 0x003e, 0x003e, 0x0076,
  0x00e6, 0x00c6, 0x01c6, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0006, 0x0006, 0x0006, 0x0006, 0x0006, 0x0006, 0x0006,
  0x0006, 0x0006, 0x0006, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01ce, 0x01ce, 0x01ce, 0x01fe, 0x01fe, 0x01b6, 0x01b6,
  0x01b6, 0x0186, 0x0186, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x018e, 0x018e, 0x019e, 0x019e, 0x01b6, 0x01b6,
  0x01e6, 0x01e6, 0x01c6, 0x01c6, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0078, 0x00fc, 0x01ce, 0x0186, 0x0186, 0x0186, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x00fc, 0x0078, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00fe, 0x01fe, 0x0186, 0x0186, 0x0186, 0x01fe, 0x00fe,
  0x0006, 0x0006, 0x0006, 0x0006, 0x0006, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0078, 0x00fc, 0x01ce, 0x0186, 0x0186, 0x0186, 0x0186,
  0x01b6, 0x01b6, 0x01ee, 0x00fc, 0x01d8, 0x0180, 0x0000, 0x0000,
  0x0000, 0x00fe, 0x01fe, 0x0186, 0x0186, 0x0186, 0x00fe, 0x00fe,
  0x00e6, 0x00c6, 0x01c6, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00f8, 0x01fc, 0x018e, 0x0006, 0x000e, 0x007c, 0x00f8,
  0x01c0, 0x0180, 0x01c6, 0x00fe, 0x007c, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01fe, 0x01fe, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x0186, 0x0186, 0x0186, 0x0186, 0x0186, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x00fc, 0x0078, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x0186, 0x0186, 0x01ce, 0x00cc, 0x00cc, 0x00fc,
  0x0078, 0x0078, 0x0078, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0303, 0x0303, 0x0303, 0x03b7, 0x01b6, 0x01b6, 0x01b6,
  0x01fe, 0x01ce, 0x00cc, 0x00cc, 0x00cc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x0186, 0x01ce, 0x00cc, 0x00fc, 0x0078, 0x0078,
  0x00fc, 0x00cc, 0x01ce, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0186, 0x0186, 0x01ce, 0x00cc, 0x00fc, 0x0078, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x01fe, 0x01fe, 0x01c0, 0x00e0, 0x0060, 0x0070, 0x0038,
  0x0018, 0x001c, 0x000e, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x00f0, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x00f0, 0x0000,
  0x0000, 0x0006, 0x000c, 0x000c, 0x0018, 0x0018, 0x0030, 0x0030,
  0x0030, 0x0060, 0x0060, 0x00c0, 0x00c0, 0x0180, 0x0000, 0x0000,
  0x003c, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x003c, 0x0000,
  0x0000, 0x0038, 0x007c, 0x00ee, 0x01c7, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x03ff,
  0x000c, 0x0018, 0x0030, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x00fc, 0x01fe, 0x0186, 0x01f0,
  0x01fc, 0x018e, 0x01c6, 0x01fe, 0x01bc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0006, 0x0006, 0x0006, 0x0076, 0x00fe, 0x01ce, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x00fe, 0x0076, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x00f8, 0x01fc, 0x018e, 0x0006,
  0x0006, 0x0006, 0x018e, 0x01fc, 0x00f8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0180, 0x0180, 0x0180, 0x01b8, 0x01fc, 0x01ce, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x01fc, 0x01b8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0078, 0x00fc, 0x0186, 0x01fe,
  0x01fe, 0x0006, 0x018e, 0x01fc, 0x00f8, 0x0000, 0x0000, 0x0000,
  0x0000, 0x00f0, 0x00f8, 0x0018, 0x00fe, 0x00fe, 0x0018, 0x0018,
  0x0018, 0x0018, 0x0018, 0x0018, 0x0018, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x01b8, 0x01fc, 0x01ce, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x01fc, 0x01b8, 0x0186, 0x01fe, 0x00fc,
  0x0000, 0x0006, 0x0006, 0x0006, 0x00f6, 0x01fe, 0x018e, 0x0186,
  0x0186, 0x0186, 0x0186, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0030, 0x0030, 0x0030, 0x0000, 0x003c, 0x003c, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x0030, 0x0030, 0x0030, 0x0000, 0x003c, 0x003c, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x003e, 0x001e,
  0x0000, 0x0006, 0x0006, 0x0006, 0x00e6, 0x0076, 0x0036, 0x001e,
  0x003e, 0x0076, 0x00e6, 0x01c6, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x001e, 0x001e, 0x0018, 0x0018, 0x0018, 0x0018, 0x0018,
  0x0018, 0x0018, 0x0018, 0x00f8, 0x00f0, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x00de, 0x01fe, 0x01b6, 0x01b6,
  0x01b6, 0x01b6, 0x01b6, 0x01b6, 0x01b6, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x00f6, 0x01fe, 0x018e, 0x0186,
  0x0186, 0x0186, 0x0186, 0x0186, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0078, 0x00fc, 0x01ce, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x00fc, 0x0078, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0076, 0x00fe, 0x01ce, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x00fe, 0x0076, 0x0006, 0x0006, 0x0006,
  0x0000, 0x0000, 0x0000, 0x0000, 0x01b8, 0x01fc, 0x01ce, 0x0186,
  0x0186, 0x0186, 0x01ce, 0x01fc, 0x01b8, 0x0180, 0x0180, 0x0180,
  0x0000, 0x0000, 0x0000, 0x0000, 0x01ec, 0x01fc, 0x001c, 0x000c,
  0x000c, 0x000c, 0x000c, 0x000c, 0x000c, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x00fc, 0x01fe, 0x0186, 0x003e,
  0x00fc, 0x01e0, 0x0186, 0x01fe, 0x00fc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0018, 0x0018, 0x00fe, 0x00fe, 0x0018, 0x0018,
  0x0018, 0x0018, 0x0018, 0x00f8, 0x00f0, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0186, 0x0186, 0x0186, 0x0186,
  0x0186, 0x0186, 0x01c6, 0x01fe, 0x01bc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0186, 0x0186, 0x0186, 0x01ce,
  0x00cc, 0x00fc, 0x0078, 0x0030, 0x0030, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0303, 0x0303, 0x0333, 0x03b7,
  0x01b6, 0x01fe, 0x01ce, 0x00cc, 0x00cc, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0186, 0x01ce, 0x00fc, 0x0078,
  0x0030, 0x0078, 0x00fc, 0x01ce, 0x0186, 0x0000, 0x0000, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0186, 0x0186, 0x0186, 0x01ce,
  0x00cc, 0x00fc, 0x0078, 0x0078, 0x0030, 0x0030, 0x003c, 0x001c,
  0x0000, 0x0000, 0x0000, 0x0000, 0x01fe, 0x01fe, 0x00c0, 0x0060,
  0x0030, 0x0018, 0x000c, 0x01fe, 0x01fe, 0x0000, 0x0000, 0x0000,
  0x00e0, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x000c,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x00e0, 0x0000,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0000,
  0x001c, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x00c0,
  0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x0030, 0x001c, 0x0000,
  0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x011c, 0x01fe,
  0x00e2, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000, 0x0000
};

void print(int x, int y, color_t fg, color_t bg, const char *text)
{
  int i, j;
  char code, index;
  unsigned int element;
  const char *pointer;
  color_t *vram = GetVRAMAddress();
  for(pointer = text; code = *pointer; ++pointer)
  {
    index = code - 32;
    for(i = 0; i < 16; ++i)
    {
      element = font10x16[index * 16 + i];
      for(j = 0; j < 12; ++j)
      {
        vram[(y + i) * LCD_WIDTH_PX + x + j] = element & (1 << j) ? fg : bg;
      }
    }
    x += 10;
  }
}

